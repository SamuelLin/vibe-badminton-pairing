# 🏸 羽球配對系統

一個智能的羽球配對網頁應用程式，可以根據人員等級自動進行最佳配對，避免重複組合並確保比賽的公平性。

## 功能特色

### 🎯 核心功能
- **動態場地管理** - 可調整場地數量（1-10個）
- **人員等級系統** - 支援4-12等級分級
- **智能配對算法** - 自動避免重複配對，優化等級分配
- **即時場地狀態** - 追蹤比賽進行時間和場地使用情況
- **自動重新配對** - 場地結束後自動安排新的配對
- **人員管理** - 支援編輯、刪除、休息狀態切換
- **批次匯入** - 支援 JSON 格式批次新增人員
- **統計追蹤** - 記錄每位球員的比賽場次和等待時間

### 🧠 智能配對算法
系統採用多維度評分機制，確保配對的公平性和競技性：

#### 核心原則
1. **強弱搭配優先** - 避免「強強對弱弱」的一面倒局面
2. **相對等級評估** - 根據當前四位選手動態判斷強弱，而非固定門檻
3. **避免重複配對** - 記錄配對歷史，減少重複組合
4. **公平輪替機制** - 優先安排等待久和打得少的球員

#### 評分機制
- **實力平衡評估** (60分基礎分)
- **強強對弱弱懲罰** (-80分)
- **雙強弱搭配獎勵** (+25分)
- **配對歷史懲罰** (每次重複-20分)
- **公平性獎勵** (等待場次+已打場次差距補償)

### 💾 資料持久化
- 使用瀏覽器本地儲存自動保存所有資料
- 包含人員資料、場地狀態、配對歷史、統計記錄等
- 重新載入頁面後資料不會遺失

## 使用方法

### 1. 人員管理
- **新增人員**：輸入姓名、選擇等級（4-12），點擊「新增人員」或按Enter鍵
- **編輯人員**：點擊 ✏️ 圖示修改姓名或等級
- **休息狀態**：點擊「休息」按鈕暫停參與配對
- **刪除人員**：點擊 🗑️ 圖示移除人員
- **批次匯入**：點擊「批次匯入」上傳 JSON 格式的人員清單

### 2. 場地管理
1. 在頂部控制區調整場地數量（1-10個）
2. 點擊「更新場地」套用變更
3. 各場地可獨立管理配對和比賽狀態

### 3. 智能配對
1. 確保有至少4名等待中的人員
2. 點擊「自動配對」按鈕
3. 系統會自動分析並安排最佳配對到空閒場地
4. 可在場地中查看平衡度評估結果

### 4. 比賽管理
1. **開始比賽**：確認配對後點擊「開始比賽」
2. **編輯配對**：比賽前可手動調整人員組合
3. **結束比賽**：比賽完成後點擊「結束比賽」
4. 人員自動回到等待列表，更新統計數據

### 5. 數據管理
- **重置統計**：清除所有比賽統計但保留人員
- **清空資料**：完全重置包含人員和設定
- **自動保存**：所有操作即時保存到瀏覽器

## 智能配對規則

### ✅ 系統會優先選擇
- **強弱搭配**：一強一弱的理想組合（例：10+4 vs 8+6）
- **等級平衡**：隊內等級差距適中（1-3級最佳）
- **新鮮配對**：避免重複的配對組合
- **公平輪替**：優先安排等待久和打得少的球員

### ❌ 系統會自動避免
- **強強對弱弱**：避免一面倒局面（例：避免 10+8 vs 6+4）
- **極端差距**：隊內等級差距過大（>3級）
- **頻繁重複**：相同配對組合的重複出現
- **不公平輪替**：忽略等待時間和比賽次數差距

### 📊 配對示例
以四位選手 [10級, 8級, 6級, 4級] 為例：
- ✅ **最佳**：10+4 vs 8+6（雙強弱搭配，+25分獎勵）
- 🤔 **可接受**：10+6 vs 8+4（混合搭配）
- ❌ **避免**：10+8 vs 6+4（強強對弱弱，-80分懲罰）

## 開始使用

直接在瀏覽器中開啟 `index.html` 即可開始使用！

---

**💡 使用提示：**
- 系統會自動記住你的設定和資料，下次開啟時會自動恢復
- 建議至少 6-8 位玩家可以獲得最佳配對效果
- 等級設定建議反映真實技術水平，讓配對更加準確
